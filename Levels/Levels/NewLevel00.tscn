[gd_scene load_steps=15 format=2]

[ext_resource path="res://Levels/Tilemaps/Parallax.gd" type="Script" id=1]
[ext_resource path="res://Levels/AuxiliaryTools/BaseLevel.tscn" type="PackedScene" id=2]
[ext_resource path="res://Levels/Tilemaps/Background.tscn" type="PackedScene" id=3]
[ext_resource path="res://Levels/Tilemaps/Blocks.tscn" type="PackedScene" id=4]
[ext_resource path="res://Levels/Tilemaps/Platforms.tscn" type="PackedScene" id=5]
[ext_resource path="res://Actors/Player/Player.tscn" type="PackedScene" id=6]
[ext_resource path="res://Levels/Tilemaps/Spikes.tscn" type="PackedScene" id=7]
[ext_resource path="res://Actors/Interactables/FuelTank/FuelTank.tscn" type="PackedScene" id=8]
[ext_resource path="res://Actors/Interactables/Switch/Switch.tscn" type="PackedScene" id=9]
[ext_resource path="res://Actors/Interactables/Gate/StandardGate/StandardGate.tscn" type="PackedScene" id=10]
[ext_resource path="res://Actors/Interactables/EnergyWire/EnergyWire.tscn" type="PackedScene" id=11]
[ext_resource path="res://Levels/AuxiliaryTools/CameraLimiter.tscn" type="PackedScene" id=12]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;
render_mode unshaded;

uniform vec4 base_color: hint_color;
uniform vec4 active_color: hint_color;
uniform vec4 inactive_color: hint_color;
uniform bool active;

void fragment ()
{
	COLOR = texture(TEXTURE , UV);
	if (active == false && length(COLOR.rgb - base_color.rgb) <= 0.01)
		COLOR.rgb = inactive_color.rgb;
	if (active == true && length(COLOR.rgb - base_color.rgb) <= 0.01)
		COLOR.rgb = active_color.rgb;
}"

[sub_resource type="ShaderMaterial" id=2]
resource_local_to_scene = true
shader = SubResource( 1 )
shader_param/base_color = Color( 0.141176, 0.164706, 0.231373, 1 )
shader_param/active_color = Color( 0.956863, 0.956863, 0.894118, 1 )
shader_param/inactive_color = Color( 0.490196, 0.490196, 0.490196, 1 )
shader_param/active = false

[node name="BaseLevel" instance=ExtResource( 2 )]

[node name="ScreenTransition" parent="." index="0"]
opening_text = "Level 3
No floor!"

[node name="LevelLimits" parent="." index="1"]
tile_data = PoolIntArray( -1, 536870912, 0, -65536, 536870912, 0, -65535, 536870912, 0, -65534, 536870912, 0, -65533, 536870912, 0, -65532, 536870912, 0, -65531, 536870912, 0, -65530, 536870912, 0, -65529, 536870912, 0, -65528, 536870912, 0, -65527, 536870912, 0, -65526, 536870912, 0, -65525, 536870912, 0, -65524, 536870912, 0, -65523, 536870912, 0, -65522, 536870912, 0, -65521, 536870912, 0, -65520, 536870912, 0, -65519, 536870912, 0, -65518, 536870912, 0, -65517, 536870912, 0, -65516, 536870912, 0, -65515, 536870912, 0, -65514, 536870912, 0, -65513, 536870912, 0, -65512, 536870912, 0, -65511, 536870912, 0, -65510, 536870912, 0, -65509, 536870912, 0, -65508, 536870912, 0, -65507, 536870912, 0, -65506, 536870912, 0, -65505, 536870912, 0, -65504, 536870912, 0, -65503, 536870912, 0, -65502, 536870912, 0, -65501, 536870912, 0, -65500, 536870912, 0, -65499, 536870912, 0, -65498, 536870912, 0, -65497, 536870912, 0, -65496, 536870912, 0, -65495, 536870912, 0, -65494, 536870912, 0, -65493, 536870912, 0, -65492, 536870912, 0, -65491, 536870912, 0, -65490, 536870912, 0, -65489, 536870912, 0, -65488, 536870912, 0, -65487, 536870912, 0, -65486, 536870912, 0, -65485, 536870912, 0, -65484, 536870912, 0, -65483, 536870912, 0, -65482, 536870912, 0, -65481, 536870912, 0, -65480, 536870912, 0, -65479, 536870912, 0, -65478, 536870912, 0, 65535, 536870912, 0, 58, 0, 0, 131071, 536870912, 0, 65594, 0, 0, 196607, 536870912, 0, 131130, 0, 0, 262143, 536870912, 0, 196666, 0, 0, 327679, 536870912, 0, 262202, 0, 0, 393215, 536870912, 0, 327738, 0, 0, 458751, 536870912, 0, 393274, 0, 0, 524287, 536870912, 0, 458810, 0, 0, 589823, 536870912, 0, 524346, 0, 0, 655359, 536870912, 0, 589882, 0, 0, 720895, 536870912, 0, 655418, 0, 0, 786431, 536870912, 0, 720954, 0, 0, 851967, 536870912, 0, 786490, 0, 0, 917503, 536870912, 0, 852026, 0, 0, 983039, 536870912, 0, 917562, 0, 0, 1048575, 536870912, 0, 983098, 0, 0, 1114111, 536870912, 0, 1048634, 0, 0, 1179647, 536870912, 0, 1114170, 0, 0, 1245183, 536870912, 0, 1179706, 0, 0, 1310719, 536870912, 0, 1245242, 0, 0, 1376255, 536870912, 0, 1310778, 0, 0, 1441791, 536870912, 0, 1376314, 0, 0, 1507327, 536870912, 0, 1441850, 0, 0, 1572863, 536870912, 0, 1507386, 0, 0, 1638399, 536870912, 0, 1572864, 536870912, 0, 1572865, 536870912, 0, 1572866, 536870912, 0, 1572867, 536870912, 0, 1572868, 536870912, 0, 1572869, 536870912, 0, 1572870, 536870912, 0, 1572871, 536870912, 0, 1572872, 536870912, 0, 1572873, 536870912, 0, 1572874, 536870912, 0, 1572875, 536870912, 0, 1572876, 536870912, 0, 1572877, 536870912, 0, 1572878, 536870912, 0, 1572879, 536870912, 0, 1572880, 536870912, 0, 1572881, 536870912, 0, 1572882, 536870912, 0, 1572883, 536870912, 0, 1572884, 536870912, 0, 1572885, 536870912, 0, 1572886, 536870912, 0, 1572887, 536870912, 0, 1572888, 536870912, 0, 1572889, 536870912, 0, 1572890, 536870912, 0, 1572891, 536870912, 0, 1572892, 536870912, 0, 1572893, 536870912, 0, 1572894, 536870912, 0, 1572895, 536870912, 0, 1572896, 536870912, 0, 1572897, 536870912, 0, 1572898, 536870912, 0, 1572899, 536870912, 0, 1572900, 536870912, 0, 1572901, 536870912, 0, 1572902, 536870912, 0, 1572903, 536870912, 0, 1572904, 536870912, 0, 1572905, 536870912, 0, 1572906, 536870912, 0, 1572907, 536870912, 0, 1572908, 536870912, 0, 1572909, 536870912, 0, 1572910, 536870912, 0, 1572911, 536870912, 0, 1572912, 536870912, 0, 1572913, 536870912, 0, 1572914, 536870912, 0, 1572915, 536870912, 0, 1572916, 536870912, 0, 1572917, 536870912, 0, 1572918, 536870912, 0, 1572919, 536870912, 0, 1572920, 536870912, 0, 1572921, 536870912, 0, 1572922, 536870912, 0 )

[node name="Background" parent="." index="4" instance=ExtResource( 3 )]
script = ExtResource( 1 )

[node name="Background2" parent="." index="5" instance=ExtResource( 3 )]

[node name="Props1" parent="Background2/HangingProps" index="0"]
tile_data = PoolIntArray( 12, 4, 0, 15, 4, 0, 18, 4, 0, 28, 0, 0, 32, 0, 0, 65548, 4, 0, 65551, 4, 0, 65554, 4, 0, 65564, 0, 0, 65568, 0, 0, 131084, 4, 0, 131087, 4, 0, 131090, 4, 0, 131100, 0, 0, 131104, 0, 0, 196620, 4, 0, 196623, 4, 0, 196626, 4, 0, 196636, 0, 0, 196640, 0, 0, 262156, 4, 0, 262159, 4, 0, 262162, 4, 0, 262172, 0, 0, 262176, 0, 0, 327692, 4, 0, 327695, 4, 0, 327698, 4, 0, 327708, 0, 0, 327712, 0, 0, 393228, 4, 0, 393231, 4, 0, 393234, 4, 0, 393244, 0, 0, 393248, 0, 0, 458764, 4, 0, 458767, 4, 0, 458770, 4, 0, 458780, 0, 0, 458784, 0, 0, 524300, 4, 0, 524303, 4, 0, 524306, 4, 0, 589836, 4, 0, 589839, 4, 0, 589842, 4, 0, 655372, 4, 0, 655375, 4, 0, 655378, 4, 0, 720908, 4, 0, 720911, 4, 0, 720914, 4, 0, 786444, 4, 0, 786447, 4, 0, 786450, 4, 0, 786452, 6, 0, 851980, 4, 0, 851983, 4, 0, 851986, 4, 0, 851988, 6, 0, 917516, 4, 0, 917519, 4, 0, 917522, 4, 0, 917524, 6, 0, 983052, 4, 0, 983055, 4, 0, 983058, 4, 0, 983060, 6, 0, 1048588, 4, 0, 1048591, 4, 0, 1048594, 4, 0, 1048596, 6, 0, 1114132, 6, 0, 1179668, 6, 0, 1245204, 6, 0, 1310740, 6, 0, 1376276, 6, 0, 1441805, 9, 0, 1441809, 9, 0, 1441812, 6, 0, 1507341, 9, 0, 1507345, 9, 0, 1507348, 6, 0 )

[node name="Props1" parent="Background2/GroundProps" index="0"]
tile_data = PoolIntArray( 655416, 22, 0 )

[node name="Blocks" parent="." index="6" instance=ExtResource( 4 )]

[node name="Blocks1" parent="Blocks" index="0"]
tile_data = PoolIntArray( 65535, 2, 0, 0, 1, 0, 1, 1, 0, 2, 2, 0, 3, 2, 0, 4, 1, 0, 5, 1, 0, 6, 2, 0, 7, 1, 0, 8, 2, 0, 9, 2, 0, 10, 1, 0, 11, 4, 0, 12, 4, 1, 13, 4, 1, 14, 4, 1, 15, 4, 1, 16, 4, 1, 17, 4, 1, 18, 4, 1, 19, 4, 2, 20, 46, 0, 21, 46, 0, 22, 46, 0, 23, 46, 0, 24, 46, 0, 25, 46, 0, 26, 46, 0, 27, 9, 0, 28, 11, 0, 29, 13, 0, 30, 11, 0, 31, 13, 0, 32, 11, 0, 33, 15, 0, 65547, 4, 131072, 65548, 4, 131073, 65549, 4, 131073, 65550, 4, 131073, 65551, 4, 131073, 65552, 4, 131073, 65553, 4, 131073, 65554, 4, 131073, 65555, 4, 131074, 131101, 50, 0, 131103, 50, 0, 720952, 24, 0, 720953, 41, 0, 720954, 40, 0, 720955, 536870950, 0, 720956, 39, 0, 720957, 42, 0, 720958, 39, 0, 720959, 42, 0, 786488, 26, 0, 786489, 37, 0, 786490, 37, 0, 786491, 37, 0, 786492, 37, 0, 786493, 37, 0, 786494, 37, 0, 786495, 37, 0, 852024, 26, 0, 852025, 37, 0, 852026, 37, 0, 852027, 37, 0, 852028, 37, 0, 852029, 37, 0, 852030, 37, 0, 852031, 37, 0, 983038, 4, 0, 983039, 4, 1, 917504, 4, 1, 917505, 4, 1, 917506, 4, 2, 917560, 26, 0, 917561, 37, 0, 917562, 37, 0, 917563, 37, 0, 917564, 37, 0, 917565, 37, 0, 917566, 37, 0, 917567, 37, 0, 1048574, 4, 65536, 1048575, 4, 65537, 983040, 4, 65537, 983041, 4, 65537, 983042, 4, 65538, 983043, 40, 0, 983044, 39, 0, 983045, 41, 0, 983046, 25, 0, 983096, 26, 0, 983097, 37, 0, 983098, 37, 0, 983099, 37, 0, 983100, 37, 0, 983101, 37, 0, 983102, 37, 0, 983103, 37, 0, 1114110, 4, 131072, 1114111, 4, 131073, 1048576, 4, 131073, 1048577, 4, 131073, 1048578, 4, 131074, 1048579, 37, 0, 1048580, 37, 0, 1048581, 37, 0, 1048582, 27, 0, 1048632, 26, 0, 1048633, 37, 0, 1048634, 37, 0, 1048635, 37, 0, 1048636, 37, 0, 1048637, 37, 0, 1048638, 37, 0, 1048639, 37, 0, 1179645, 44, 0, 1114112, 536870956, 0, 1114115, 37, 0, 1114116, 37, 0, 1114117, 37, 0, 1114118, 27, 0, 1114168, 26, 0, 1114169, 37, 0, 1114170, 37, 0, 1114171, 37, 0, 1114172, 37, 0, 1114173, 37, 0, 1114174, 37, 0, 1114175, 37, 0, 1179651, 37, 0, 1179652, 37, 0, 1179653, 37, 0, 1179654, 27, 0, 1179703, 6, 0, 1179704, 6, 1, 1179705, 6, 2, 1179706, 6, 1, 1179707, 6, 1, 1179708, 6, 0, 1179709, 6, 2, 1179710, 6, 0, 1179711, 6, 2, 1310718, 1, 0, 1310719, 1, 0, 1245184, 1, 0, 1245185, 1, 0, 1245186, 3, 0, 1245187, 37, 0, 1245188, 37, 0, 1245189, 37, 0, 1245190, 27, 0, 1245240, 26, 0, 1245241, 37, 0, 1245242, 37, 0, 1245243, 37, 0, 1245244, 37, 0, 1245245, 37, 0, 1245246, 37, 0, 1245247, 37, 0, 1376254, 37, 0, 1376255, 37, 0, 1310720, 37, 0, 1310721, 37, 0, 1310722, 37, 0, 1310723, 37, 0, 1310724, 37, 0, 1310725, 37, 0, 1310726, 27, 0, 1310776, 26, 0, 1310777, 37, 0, 1310778, 37, 0, 1310779, 37, 0, 1310780, 37, 0, 1310781, 37, 0, 1310782, 37, 0, 1310783, 37, 0, 1441790, 37, 0, 1441791, 37, 0, 1376256, 37, 0, 1376257, 37, 0, 1376258, 37, 0, 1376259, 37, 0, 1376260, 37, 0, 1376261, 37, 0, 1376262, 27, 0, 1376312, 26, 0, 1376313, 37, 0, 1376314, 37, 0, 1376315, 37, 0, 1376316, 37, 0, 1376317, 37, 0, 1376318, 37, 0, 1376319, 37, 0, 1507326, 37, 0, 1507327, 37, 0, 1441792, 37, 0, 1441793, 37, 0, 1441794, 37, 0, 1441795, 37, 0, 1441796, 37, 0, 1441797, 37, 0, 1441798, 27, 0, 1441848, 26, 0, 1441849, 37, 0, 1441850, 37, 0, 1441851, 37, 0, 1441852, 37, 0, 1441853, 37, 0, 1441854, 37, 0, 1441855, 37, 0, 1572862, 37, 0, 1572863, 37, 0, 1507328, 37, 0, 1507329, 37, 0, 1507330, 37, 0, 1507331, 37, 0, 1507332, 37, 0, 1507333, 37, 0, 1507334, 27, 0, 1507384, 26, 0, 1507385, 37, 0, 1507386, 37, 0, 1507387, 37, 0, 1507388, 37, 0, 1507389, 37, 0, 1507390, 37, 0, 1507391, 37, 0 )

[node name="Blocks2" parent="Blocks" index="1"]
tile_data = PoolIntArray( 65564, -1610612717, 0, 65565, -1610612718, 0, 65566, 23, 0, 65567, -2147483630, 0, 65568, -2147483629, 0, 131102, 23, 131072, 983092, 0, 0, 983093, 2, 0, 983094, 1, 0, 983095, 1, 0, 983096, 2, 0, 983097, 2, 0, 983098, 2, 0, 983099, 1, 0, 983100, 2, 0, 983101, 1, 0, 983102, 2, 0, 983103, 1, 0, 1048631, 46, 0, 1048632, 46, 0, 1048633, 46, 0, 1048634, 46, 0, 1048635, 46, 0, 1048636, 46, 0, 1048637, 46, 0, 1048638, 46, 0, 1048639, 46, 0, 1114167, 46, 0, 1114168, 46, 0, 1114169, 46, 0, 1114170, 46, 0, 1114171, 46, 0, 1114172, 46, 0, 1114173, 46, 0, 1114174, 46, 0, 1114175, 46, 0, 1179701, 6, 0, 1179702, 6, 1, 1179703, 6, 1, 1179704, 6, 1, 1179705, 6, 1, 1179706, 6, 1, 1179707, 6, 1, 1179708, 6, 1, 1179709, 6, 1, 1179710, 6, 1, 1179711, 6, 2, 1245237, 49, 0, 1245238, 49, 0, 1376254, 49, 0, 1376255, 49, 0, 1310720, 49, 0, 1310721, 49, 0, 1310722, 49, 0, 1310773, 49, 0, 1310774, 49, 0, 1441790, 49, 0, 1441791, 49, 0, 1376256, 49, 0, 1376257, 49, 0, 1376258, 49, 0, 1376309, 49, 0, 1376310, 49, 0, 1376311, 24, 0, 1376312, 42, 0, 1376313, 39, 0, 1376314, 25, 0, 1507326, 49, 0, 1507327, 49, 0, 1441792, 49, 0, 1441793, 49, 0, 1441794, 49, 0, 1441845, 49, 0, 1441846, 49, 0, 1441847, 26, 0, 1441848, 37, 0, 1441849, 37, 0, 1441850, 27, 0, 1572862, 49, 0, 1572863, 49, 0, 1507328, 49, 0, 1507329, 49, 0, 1507330, 49, 0, 1507381, 49, 0, 1507382, 49, 0, 1507383, 26, 0, 1507384, 37, 0, 1507385, 37, 0, 1507386, 27, 0 )

[node name="BlockProps" parent="Blocks" index="3"]
tile_data = PoolIntArray( 983038, 6, 0, 983039, 7, 0, 917504, 7, 0, 917505, 7, 0, 917506, 8, 0 )

[node name="Platforms" parent="." index="7" instance=ExtResource( 5 )]

[node name="Platforms" parent="Platforms" index="1"]
tile_data = PoolIntArray( 524316, 0, 0, 524317, 1, 0, 524318, 1, 0, 524319, 1, 0, 524320, 2, 0 )

[node name="Spikes" parent="." index="8" instance=ExtResource( 7 )]
tile_data = PoolIntArray( 917556, 0, 0, 917557, 0, 0, 917558, 0, 0, 917559, 0, 0, 917560, 0, 0, 917561, 0, 0, 917562, 0, 0, 917563, 0, 0, 917564, 0, 0, 917565, 0, 0, 917566, 0, 0, 917567, 0, 0, 1310775, 0, 0, 1310776, 0, 0, 1310777, 0, 0, 1310778, 0, 0, 1572862, 0, 0, 1572863, 0, 0, 1507328, 0, 0, 1507329, 0, 0, 1507330, 0, 0, 1507331, 0, 0, 1507332, 0, 0, 1507333, 0, 0, 1507334, 0, 0, 1507335, 0, 0, 1507336, 0, 0, 1507337, 0, 0, 1507338, 0, 0, 1507339, 0, 0, 1507340, 0, 0, 1507341, 0, 0, 1507342, 0, 0, 1507343, 0, 0, 1507344, 0, 0, 1507345, 0, 0, 1507346, 0, 0, 1507347, 0, 0, 1507348, 0, 0, 1507349, 0, 0, 1507350, 0, 0, 1507351, 0, 0, 1507352, 0, 0, 1507353, 0, 0, 1507354, 0, 0, 1507355, 0, 0, 1507356, 0, 0, 1507357, 0, 0, 1507358, 0, 0, 1507359, 0, 0, 1507360, 0, 0, 1507361, 0, 0, 1507362, 0, 0, 1507363, 0, 0, 1507364, 0, 0, 1507365, 0, 0, 1507366, 0, 0, 1507367, 0, 0, 1507368, 0, 0, 1507369, 0, 0, 1507370, 0, 0, 1507371, 0, 0, 1507372, 0, 0, 1507373, 0, 0, 1507374, 0, 0, 1507375, 0, 0, 1507376, 0, 0, 1507377, 0, 0, 1507378, 0, 0, 1507379, 0, 0, 1507380, 0, 0, 1507381, 0, 0, 1507382, 0, 0, 1507383, 0, 0, 1507384, 0, 0, 1507385, 0, 0, 1507386, 0, 0, 1507387, 0, 0, 1507388, 0, 0, 1507389, 0, 0, 1507390, 0, 0, 1507391, 0, 0, 1507392, 0, 0, 1507393, 0, 0 )

[node name="Player" parent="." index="9" instance=ExtResource( 6 )]
position = Vector2( 32, 216 )

[node name="FuelTank" parent="." index="10" instance=ExtResource( 8 )]
position = Vector2( 200, 272 )

[node name="FuelTank2" parent="." index="11" instance=ExtResource( 8 )]
position = Vector2( 248, 272 )

[node name="FuelTank3" parent="." index="12" instance=ExtResource( 8 )]
position = Vector2( 296, 272 )

[node name="FuelTank4" parent="." index="13" instance=ExtResource( 8 )]
position = Vector2( 328, 192 )

[node name="FuelTank5" parent="." index="14" instance=ExtResource( 8 )]
position = Vector2( 216, 344 )

[node name="FuelTank6" parent="." index="15" instance=ExtResource( 8 )]
position = Vector2( 464, 120 )

[node name="FuelTank7" parent="." index="16" instance=ExtResource( 8 )]
position = Vector2( 280, 344 )

[node name="FuelTank8" parent="." index="17" instance=ExtResource( 8 )]
position = Vector2( 656, 144 )

[node name="FuelTank9" parent="." index="18" instance=ExtResource( 8 )]
position = Vector2( 704, 144 )

[node name="FuelTank10" parent="." index="19" instance=ExtResource( 8 )]
position = Vector2( 752, 144 )

[node name="FuelTank11" parent="." index="20" instance=ExtResource( 8 )]
position = Vector2( 672, 216 )

[node name="FuelTank12" parent="." index="21" instance=ExtResource( 8 )]
position = Vector2( 736, 216 )

[node name="Switch" parent="." index="22" instance=ExtResource( 9 )]
position = Vector2( 864, 272 )
nodes = [ NodePath("../Gate") ]

[node name="Gate" parent="." index="23" instance=ExtResource( 10 )]
position = Vector2( 888, 184 )
rotation = 1.5708
gate_height = 6

[node name="EnergyWire" parent="." index="24" instance=ExtResource( 11 )]
material = SubResource( 2 )
position = Vector2( 816, 208 )

[node name="Wire" parent="EnergyWire" index="0"]
tile_data = PoolIntArray( -1, 0, 131072, -65536, 0, 131073, -65535, 0, 131073, -65534, 0, 65537, -65533, 0, 131073, -65532, 0, 131074, 2, 0, 196609, 65538, 0, 196608, 131074, 0, 327681 )

[node name="Props" parent="EnergyWire" index="1"]
tile_data = PoolIntArray( -65537, 15, 0, -131072, 15, 0, -131071, 15, 0, -131070, 15, 0, -131069, 15, 0, -131068, 15, 0, 131074, 15, 0 )

[node name="CameraLimiter" parent="." index="25" instance=ExtResource( 12 )]
visible = false
position = Vector2( 576, 104 )
limit = 416

[node name="CollisionPolygon2D" parent="CameraLimiter/Exit" index="0"]
polygon = PoolVector2Array( 384, 280, -120, 280, -120, -104, 384, -104 )

[node name="CollisionPolygon2D" parent="CameraLimiter" index="1"]
polygon = PoolVector2Array( -80, -104, 352, -104, 352, 280, -80, 280 )

[editable path="Background"]

[editable path="Background2"]

[editable path="Blocks"]

[editable path="Platforms"]

[editable path="EnergyWire"]

[editable path="CameraLimiter"]
